import{b as Xe,d as It,c as _t,a as ve,f as $e}from"../chunks/WcHsxrJp.js";import"../chunks/ByB8GSvn.js";import{o as Mt}from"../chunks/BJZlxnwR.js";import{a0 as vt,k as ge,n as Je,a8 as kt,aZ as Ot,v as Ye,C as Dt,N as Pt,aI as Ht,aF as At,s as Ft,m as ye,a_ as Rt,y as fe,aX as Bt,b as zt,ao as $t,a$ as jt,_ as Wt,b0 as qt,b1 as Ut,$ as Gt,a1 as Vt,am as G,B as ue,g as O,a2 as q,a3 as U,a4 as J,b2 as Qe,b3 as Xt}from"../chunks/DmnCkmkK.js";import{e as ae}from"../chunks/BxEjHqAq.js";import{i as Ze}from"../chunks/BH0EIty2.js";import{t as we,a as Ie,f as Jt}from"../chunks/CPSPCCfI.js";import{i as Yt}from"../chunks/DxB4ud-v.js";import"../chunks/rHNyAECE.js";function Qt(i,t,n=!1,e=!1,s=!1){var r=i,a="";vt(()=>{var l=kt;if(a===(a=t()??"")){ge&&Je();return}if(l.nodes_start!==null&&(Ot(l.nodes_start,l.nodes_end),l.nodes_start=l.nodes_end=null),a!==""){if(ge){Ye.data;for(var o=Je(),d=o;o!==null&&(o.nodeType!==Dt||o.data!=="");)d=o,o=Pt(o);if(o===null)throw Ht(),At;Xe(Ye,d),r=Ft(o);return}var h=a+"";n?h=`<svg>${h}</svg>`:e&&(h=`<math>${h}</math>`);var b=It(h);if((n||e)&&(b=ye(b)),Xe(ye(b),b.lastChild),n||e)for(;ye(b);)r.before(ye(b));else r.before(b)}})}function Zt(i,t,n){var e=i==null?"":""+i;return e===""?null:e}function Ke(i,t,n,e,s,r){var a=i.__className;if(ge||a!==n||a===void 0){var l=Zt(n);(!ge||l!==i.getAttribute("class"))&&(l==null?i.removeAttribute("class"):i.className=l),i.__className=n}return r}function et(i,t,n=t){var e=new WeakSet;Rt(i,"input",async s=>{var r=s?i.defaultValue:i.value;if(r=_e(i)?Me(r):r,n(r),fe!==null&&e.add(fe),await Bt(),r!==(r=t())){var a=i.selectionStart,l=i.selectionEnd,o=i.value.length;if(i.value=r??"",l!==null){var d=i.value.length;a===l&&l===o&&d>o?(i.selectionStart=d,i.selectionEnd=d):(i.selectionStart=a,i.selectionEnd=Math.min(l,d))}}}),(ge&&i.defaultValue!==i.value||zt(t)==null&&i.value)&&(n(_e(i)?Me(i.value):i.value),fe!==null&&e.add(fe)),$t(()=>{var s=t();if(i===document.activeElement){var r=jt??fe;if(e.has(r))return}_e(i)&&s===Me(i.value)||i.type==="date"&&!s&&!i.value||s!==i.value&&(i.value=s??"")})}function _e(i){var t=i.type;return t==="number"||t==="range"}function Me(i){return i===""?null:+i}const Kt=!0,ai=Object.freeze(Object.defineProperty({__proto__:null,prerender:Kt},Symbol.toStringTag,{value:"Module"}));var H;(function(i){i.INSERT="insert",i.DELETE="delete",i.CONTEXT="context"})(H||(H={}));const en={LINE_BY_LINE:"line-by-line"},tn={NONE:"none"},nn={WORD:"word"};var oe;(function(i){i.AUTO="auto",i.DARK="dark",i.LIGHT="light"})(oe||(oe={}));const sn=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],rn=RegExp("["+sn.join("\\")+"]","g");function an(i){return i.replace(rn,"\\$&")}function tt(i){return i&&i.replace(/\\/g,"/")}function ln(i){let t,n,e,s=0;for(t=0,e=i.length;t<e;t++)n=i.charCodeAt(t),s=(s<<5)-s+n,s|=0;return s}function yt(i){const t=i.length;let n=-1/0;for(let e=0;e<t;e++)n=Math.max(n,i[e]);return n}function nt(i,t){const n=i.split(".");return n.length>1?n[n.length-1]:t}function it(i,t){return t.reduce((n,e)=>n||i.startsWith(e),!1)}const st=["a/","b/","i/","w/","c/","o/"];function re(i,t,n){const e=n!==void 0?[...st,n]:st,s=t?new RegExp(`^${an(t)} "?(.+?)"?$`):new RegExp('^"?(.+?)"?$'),[,r=""]=s.exec(i)||[],a=e.find(o=>r.indexOf(o)===0);return(a?r.slice(a.length):r).replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}function on(i,t){return re(i,"---",t)}function cn(i,t){return re(i,"+++",t)}function wt(i,t={}){const n=[];let e=null,s=null,r=null,a=null,l=null,o=null,d=null;const h="--- ",b="+++ ",E="@@",c=/^old mode (\d{6})/,f=/^new mode (\d{6})/,p=/^deleted file mode (\d{6})/,m=/^new file mode (\d{6})/,T=/^copy from "?(.+)"?/,C=/^copy to "?(.+)"?/,v=/^rename from "?(.+)"?/,N=/^rename to "?(.+)"?/,L=/^similarity index (\d+)%/,I=/^dissimilarity index (\d+)%/,F=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/,u=/^Binary files (.*) and (.*) differ/,g=/^GIT binary patch/,y=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/,S=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,k=/^new file mode (\d{6})/,z=/^deleted file mode (\d{6}),(\d{6})/,R=i.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,`
`).split(`
`);function M(){s!==null&&e!==null&&(e.blocks.push(s),s=null)}function V(){e!==null&&(!e.oldName&&o!==null&&(e.oldName=o),!e.newName&&d!==null&&(e.newName=d),e.newName&&(n.push(e),e=null)),o=null,d=null}function X(){M(),V(),e={blocks:[],deletedLines:0,addedLines:0}}function $(w){M();let _;e!==null&&((_=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec(w))?(e.isCombined=!1,r=parseInt(_[1],10),l=parseInt(_[2],10)):(_=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec(w))?(e.isCombined=!0,r=parseInt(_[1],10),a=parseInt(_[2],10),l=parseInt(_[3],10)):(w.startsWith(E)&&console.error("Failed to parse lines, starting in 0!"),r=0,l=0,e.isCombined=!1)),s={lines:[],oldStartLine:r,oldStartLine2:a,newStartLine:l,header:w}}function D(w){if(e===null||s===null||r===null||l===null)return;const _={content:w},x=e.isCombined?["+ "," +","++"]:["+"],W=e.isCombined?["- "," -","--"]:["-"];it(w,x)?(e.addedLines++,_.type=H.INSERT,_.oldNumber=void 0,_.newNumber=l++):it(w,W)?(e.deletedLines++,_.type=H.DELETE,_.oldNumber=r++,_.newNumber=void 0):(_.type=H.CONTEXT,_.oldNumber=r++,_.newNumber=l++),s.lines.push(_)}function Q(w,_){let x=_;for(;x<R.length-3;){if(w.startsWith("diff"))return!1;if(R[x].startsWith(h)&&R[x+1].startsWith(b)&&R[x+2].startsWith(E))return!0;x++}return!1}return R.forEach((w,_)=>{if(!w||w.startsWith("*"))return;let x;const W=R[_-1],B=R[_+1],te=R[_+2];if(w.startsWith("diff --git")||w.startsWith("diff --combined")){if(X(),(x=/^diff --git "?([a-ciow]\/.+)"? "?([a-ciow]\/.+)"?/.exec(w))&&(o=re(x[1],void 0,t.dstPrefix),d=re(x[2],void 0,t.srcPrefix)),e===null)throw new Error("Where is my file !!!");e.isGitDiff=!0;return}if(w.startsWith("Binary files")&&!e?.isGitDiff){if(X(),(x=/^Binary files "?([a-ciow]\/.+)"? and "?([a-ciow]\/.+)"? differ/.exec(w))&&(o=re(x[1],void 0,t.dstPrefix),d=re(x[2],void 0,t.srcPrefix)),e===null)throw new Error("Where is my file !!!");e.isBinary=!0;return}if((!e||!e.isGitDiff&&e&&w.startsWith(h)&&B.startsWith(b)&&te.startsWith(E))&&X(),e?.isTooBig)return;if(e&&(typeof t.diffMaxChanges=="number"&&e.addedLines+e.deletedLines>t.diffMaxChanges||typeof t.diffMaxLineLength=="number"&&w.length>t.diffMaxLineLength)){e.isTooBig=!0,e.addedLines=0,e.deletedLines=0,e.blocks=[],s=null;const de=typeof t.diffTooBigMessage=="function"?t.diffTooBigMessage(n.length):"Diff too big to be displayed";$(de);return}if(w.startsWith(h)&&B.startsWith(b)||w.startsWith(b)&&W.startsWith(h)){if(e&&!e.oldName&&w.startsWith("--- ")&&(x=on(w,t.srcPrefix))){e.oldName=x,e.language=nt(e.oldName,e.language);return}if(e&&!e.newName&&w.startsWith("+++ ")&&(x=cn(w,t.dstPrefix))){e.newName=x,e.language=nt(e.newName,e.language);return}}if(e&&(w.startsWith(E)||e.isGitDiff&&e.oldName&&e.newName&&!s)){$(w);return}if(s&&(w.startsWith("+")||w.startsWith("-")||w.startsWith(" "))){D(w);return}const ne=!Q(w,_);if(e===null)throw new Error("Where is my file !!!");(x=c.exec(w))?e.oldMode=x[1]:(x=f.exec(w))?e.newMode=x[1]:(x=p.exec(w))?(e.deletedFileMode=x[1],e.isDeleted=!0):(x=m.exec(w))?(e.newFileMode=x[1],e.isNew=!0):(x=T.exec(w))?(ne&&(e.oldName=x[1]),e.isCopy=!0):(x=C.exec(w))?(ne&&(e.newName=x[1]),e.isCopy=!0):(x=v.exec(w))?(ne&&(e.oldName=x[1]),e.isRename=!0):(x=N.exec(w))?(ne&&(e.newName=x[1]),e.isRename=!0):(x=u.exec(w))?(e.isBinary=!0,e.oldName=re(x[1],void 0,t.srcPrefix),e.newName=re(x[2],void 0,t.dstPrefix),$("Binary file")):g.test(w)?(e.isBinary=!0,$(w)):(x=L.exec(w))?e.unchangedPercentage=parseInt(x[1],10):(x=I.exec(w))?e.changedPercentage=parseInt(x[1],10):(x=F.exec(w))?(e.checksumBefore=x[1],e.checksumAfter=x[2],x[3]&&(e.mode=x[3])):(x=y.exec(w))?(e.checksumBefore=[x[2],x[3]],e.checksumAfter=x[1]):(x=S.exec(w))?(e.oldMode=[x[2],x[3]],e.newMode=x[1]):(x=k.exec(w))?(e.newFileMode=x[1],e.isNew=!0):(x=z.exec(w))&&(e.deletedFileMode=x[1],e.isDeleted=!0)}),M(),V(),n}function Y(){}Y.prototype={diff:function(t,n){var e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=s.callback;typeof s=="function"&&(r=s,s={});var a=this;function l(N){return N=a.postProcess(N,s),r?(setTimeout(function(){r(N)},0),!0):N}t=this.castInput(t,s),n=this.castInput(n,s),t=this.removeEmpty(this.tokenize(t,s)),n=this.removeEmpty(this.tokenize(n,s));var o=n.length,d=t.length,h=1,b=o+d;s.maxEditLength!=null&&(b=Math.min(b,s.maxEditLength));var E=(e=s.timeout)!==null&&e!==void 0?e:1/0,c=Date.now()+E,f=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(f[0],n,t,0,s);if(f[0].oldPos+1>=d&&p+1>=o)return l(rt(a,f[0].lastComponent,n,t,a.useLongestToken));var m=-1/0,T=1/0;function C(){for(var N=Math.max(m,-h);N<=Math.min(T,h);N+=2){var L=void 0,I=f[N-1],F=f[N+1];I&&(f[N-1]=void 0);var u=!1;if(F){var g=F.oldPos-N;u=F&&0<=g&&g<o}var y=I&&I.oldPos+1<d;if(!u&&!y){f[N]=void 0;continue}if(!y||u&&I.oldPos<F.oldPos?L=a.addToPath(F,!0,!1,0,s):L=a.addToPath(I,!1,!0,1,s),p=a.extractCommon(L,n,t,N,s),L.oldPos+1>=d&&p+1>=o)return l(rt(a,L.lastComponent,n,t,a.useLongestToken));f[N]=L,L.oldPos+1>=d&&(T=Math.min(T,N-1)),p+1>=o&&(m=Math.max(m,N+1))}h++}if(r)(function N(){setTimeout(function(){if(h>b||Date.now()>c)return r();C()||N()},0)})();else for(;h<=b&&Date.now()<=c;){var v=C();if(v)return v}},addToPath:function(t,n,e,s,r){var a=t.lastComponent;return a&&!r.oneChangePerToken&&a.added===n&&a.removed===e?{oldPos:t.oldPos+s,lastComponent:{count:a.count+1,added:n,removed:e,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:e,previousComponent:a}}},extractCommon:function(t,n,e,s,r){for(var a=n.length,l=e.length,o=t.oldPos,d=o-s,h=0;d+1<a&&o+1<l&&this.equals(e[o+1],n[d+1],r);)d++,o++,h++,r.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return h&&!r.oneChangePerToken&&(t.lastComponent={count:h,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=o,d},equals:function(t,n,e){return e.comparator?e.comparator(t,n):t===n||e.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],e=0;e<t.length;e++)t[e]&&n.push(t[e]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function rt(i,t,n,e,s){for(var r=[],a;t;)r.push(t),a=t.previousComponent,delete t.previousComponent,t=a;r.reverse();for(var l=0,o=r.length,d=0,h=0;l<o;l++){var b=r[l];if(b.removed)b.value=i.join(e.slice(h,h+b.count)),h+=b.count;else{if(!b.added&&s){var E=n.slice(d,d+b.count);E=E.map(function(c,f){var p=e[h+f];return p.length>c.length?p:c}),b.value=i.join(E)}else b.value=i.join(n.slice(d,d+b.count));d+=b.count,b.added||(h+=b.count)}}return r}var dn=new Y;function fn(i,t,n){return dn.diff(i,t,n)}function at(i,t){var n;for(n=0;n<i.length&&n<t.length;n++)if(i[n]!=t[n])return i.slice(0,n);return i.slice(0,n)}function lt(i,t){var n;if(!i||!t||i[i.length-1]!=t[t.length-1])return"";for(n=0;n<i.length&&n<t.length;n++)if(i[i.length-(n+1)]!=t[t.length-(n+1)])return i.slice(-n);return i.slice(-n)}function He(i,t,n){if(i.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(i)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+i.slice(t.length)}function Ae(i,t,n){if(!t)return i+n;if(i.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(i)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return i.slice(0,-t.length)+n}function he(i,t){return He(i,t,"")}function Te(i,t){return Ae(i,t,"")}function ot(i,t){return t.slice(0,un(i,t))}function un(i,t){var n=0;i.length>t.length&&(n=i.length-t.length);var e=t.length;i.length<t.length&&(e=i.length);var s=Array(e),r=0;s[0]=0;for(var a=1;a<e;a++){for(t[a]==t[r]?s[a]=s[r]:s[a]=r;r>0&&t[a]!=t[r];)r=s[r];t[a]==t[r]&&r++}r=0;for(var l=n;l<i.length;l++){for(;r>0&&i[l]!=t[r];)r=s[r];i[l]==t[r]&&r++}return r}var xe="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",hn=new RegExp("[".concat(xe,"]+|\\s+|[^").concat(xe,"]"),"ug"),Ne=new Y;Ne.equals=function(i,t,n){return n.ignoreCase&&(i=i.toLowerCase(),t=t.toLowerCase()),i.trim()===t.trim()};Ne.tokenize=function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(i),function(r){return r.segment})}else n=i.match(hn)||[];var e=[],s=null;return n.forEach(function(r){/\s/.test(r)?s==null?e.push(r):e.push(e.pop()+r):/\s/.test(s)?e[e.length-1]==s?e.push(e.pop()+r):e.push(s+r):e.push(r),s=r}),e};Ne.join=function(i){return i.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};Ne.postProcess=function(i,t){if(!i||t.oneChangePerToken)return i;var n=null,e=null,s=null;return i.forEach(function(r){r.added?e=r:r.removed?s=r:((e||s)&&ct(n,s,e,r),n=r,e=null,s=null)}),(e||s)&&ct(n,s,e,null),i};function ct(i,t,n,e){if(t&&n){var s=t.value.match(/^\s*/)[0],r=t.value.match(/\s*$/)[0],a=n.value.match(/^\s*/)[0],l=n.value.match(/\s*$/)[0];if(i){var o=at(s,a);i.value=Ae(i.value,a,o),t.value=he(t.value,o),n.value=he(n.value,o)}if(e){var d=lt(r,l);e.value=He(e.value,l,d),t.value=Te(t.value,d),n.value=Te(n.value,d)}}else if(n)i&&(n.value=n.value.replace(/^\s*/,"")),e&&(e.value=e.value.replace(/^\s*/,""));else if(i&&e){var h=e.value.match(/^\s*/)[0],b=t.value.match(/^\s*/)[0],E=t.value.match(/\s*$/)[0],c=at(h,b);t.value=he(t.value,c);var f=lt(he(h,c),E);t.value=Te(t.value,f),e.value=He(e.value,h,f),i.value=Ae(i.value,h,h.slice(0,h.length-f.length))}else if(e){var p=e.value.match(/^\s*/)[0],m=t.value.match(/\s*$/)[0],T=ot(m,p);t.value=Te(t.value,T)}else if(i){var C=i.value.match(/\s*$/)[0],v=t.value.match(/^\s*/)[0],N=ot(C,v);t.value=he(t.value,N)}}var Tt=new Y;Tt.tokenize=function(i){var t=new RegExp("(\\r?\\n)|[".concat(xe,"]+|[^\\S\\n\\r]+|[^").concat(xe,"]"),"ug");return i.match(t)||[]};function pn(i,t,n){return Tt.diff(i,t,n)}var je=new Y;je.tokenize=function(i,t){t.stripTrailingCr&&(i=i.replace(/\r\n/g,`
`));var n=[],e=i.split(/(\n|\r\n)/);e[e.length-1]||e.pop();for(var s=0;s<e.length;s++){var r=e[s];s%2&&!t.newlineIsToken?n[n.length-1]+=r:n.push(r)}return n};je.equals=function(i,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!i.includes(`
`))&&(i=i.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(i.endsWith(`
`)&&(i=i.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Y.prototype.equals.call(this,i,t,n)};var mn=new Y;mn.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};var gn=new Y;gn.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};function Fe(i){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(i)}var be=new Y;be.useLongestToken=!0;be.tokenize=je.tokenize;be.castInput=function(i,t){var n=t.undefinedReplacement,e=t.stringifyReplacer,s=e===void 0?function(r,a){return typeof a>"u"?n:a}:e;return typeof i=="string"?i:JSON.stringify(Re(i,null,null,s),s,"  ")};be.equals=function(i,t,n){return Y.prototype.equals.call(be,i.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function Re(i,t,n,e,s){t=t||[],n=n||[],e&&(i=e(s,i));var r;for(r=0;r<t.length;r+=1)if(t[r]===i)return n[r];var a;if(Object.prototype.toString.call(i)==="[object Array]"){for(t.push(i),a=new Array(i.length),n.push(a),r=0;r<i.length;r+=1)a[r]=Re(i[r],t,n,e,s);return t.pop(),n.pop(),a}if(i&&i.toJSON&&(i=i.toJSON()),Fe(i)==="object"&&i!==null){t.push(i),a={},n.push(a);var l=[],o;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&l.push(o);for(l.sort(),r=0;r<l.length;r+=1)o=l[r],a[o]=Re(i[o],t,n,e,o);t.pop(),n.pop()}else a=i;return a}var Be=new Y;Be.tokenize=function(i){return i.slice()};Be.join=Be.removeEmpty=function(i){return i};function bn(i,t){if(i.length===0)return t.length;if(t.length===0)return i.length;const n=[];let e;for(e=0;e<=t.length;e++)n[e]=[e];let s;for(s=0;s<=i.length;s++)n[0][s]=s;for(e=1;e<=t.length;e++)for(s=1;s<=i.length;s++)t.charAt(e-1)===i.charAt(s-1)?n[e][s]=n[e-1][s-1]:n[e][s]=Math.min(n[e-1][s-1]+1,Math.min(n[e][s-1]+1,n[e-1][s]+1));return n[t.length][i.length]}function We(i){return(t,n)=>{const e=i(t).trim(),s=i(n).trim();return bn(e,s)/(e.length+s.length)}}function qe(i){function t(e,s,r=new Map){let a=1/0,l;for(let o=0;o<e.length;++o)for(let d=0;d<s.length;++d){const h=JSON.stringify([e[o],s[d]]);let b;r.has(h)&&(b=r.get(h))||(b=i(e[o],s[d]),r.set(h,b)),b<a&&(a=b,l={indexA:o,indexB:d,score:a})}return l}function n(e,s,r=0,a=new Map){const l=t(e,s,a);if(!l||e.length+s.length<3)return[[e,s]];const o=e.slice(0,l.indexA),d=s.slice(0,l.indexB),h=[e[l.indexA]],b=[s[l.indexB]],E=l.indexA+1,c=l.indexB+1,f=e.slice(E),p=s.slice(c),m=n(o,d,r+1,a),T=n(h,b,r+1,a),C=n(f,p,r+1,a);let v=T;return(l.indexA>0||l.indexB>0)&&(v=m.concat(v)),(e.length>E||s.length>c)&&(v=v.concat(C)),v}return n}const j={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"},Le={matching:tn.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:nn.WORD,colorScheme:oe.LIGHT},K="/",xt=We(i=>i.value),vn=qe(xt);function ke(i){return i.indexOf("dev/null")!==-1}function yn(i){return i.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,"")}function wn(i){return i.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function Ce(i){switch(i){case H.CONTEXT:return j.CONTEXT;case H.INSERT:return j.INSERTS;case H.DELETE:return j.DELETES}}function Ue(i){switch(i){case oe.DARK:return"d2h-dark-color-scheme";case oe.AUTO:return"d2h-auto-color-scheme";case oe.LIGHT:default:return"d2h-light-color-scheme"}}function Tn(i){return i?2:1}function ce(i){return i.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function ee(i,t,n=!0){const e=Tn(t);return{prefix:i.substring(0,e),content:n?ce(i.substring(e)):i.substring(e)}}function Ee(i){const t=tt(i.oldName),n=tt(i.newName);if(t!==n&&!ke(t)&&!ke(n)){const e=[],s=[],r=t.split(K),a=n.split(K),l=r.length,o=a.length;let d=0,h=l-1,b=o-1;for(;d<h&&d<b&&r[d]===a[d];)e.push(a[d]),d+=1;for(;h>d&&b>d&&r[h]===a[b];)s.unshift(a[b]),h-=1,b-=1;const E=e.join(K),c=s.join(K),f=r.slice(d,h+1).join(K),p=a.slice(d,b+1).join(K);return E.length&&c.length?E+K+"{"+f+" → "+p+"}"+K+c:E.length?E+K+"{"+f+" → "+p+"}":c.length?"{"+f+" → "+p+"}"+K+c:t+" → "+n}else return ke(n)?t:n}function Ge(i){return`d2h-${ln(Ee(i)).toString().slice(-6)}`}function Ve(i){let t="file-changed";return i.isRename||i.isCopy?t="file-renamed":i.isNew?t="file-added":i.isDeleted?t="file-deleted":i.newName!==i.oldName&&(t="file-renamed"),t}function Ct(i,t,n,e={}){const{matching:s,maxLineLengthHighlight:r,matchWordsThreshold:a,diffStyle:l}=Object.assign(Object.assign({},Le),e),o=ee(i,n,!1),d=ee(t,n,!1);if(o.content.length>r||d.content.length>r)return{oldLine:{prefix:o.prefix,content:ce(o.content)},newLine:{prefix:d.prefix,content:ce(d.content)}};const h=l==="char"?fn(o.content,d.content):pn(o.content,d.content),b=[];if(l==="word"&&s==="words"){const c=h.filter(m=>m.removed),f=h.filter(m=>m.added);vn(f,c).forEach(m=>{m[0].length===1&&m[1].length===1&&xt(m[0][0],m[1][0])<a&&(b.push(m[0][0]),b.push(m[1][0]))})}const E=h.reduce((c,f)=>{const p=f.added?"ins":f.removed?"del":null,m=b.indexOf(f)>-1?' class="d2h-change"':"",T=ce(f.value);return p!==null?`${c}<${p}${m}>${T}</${p}>`:`${c}${T}`},"");return{oldLine:{prefix:o.prefix,content:yn(E)},newLine:{prefix:d.prefix,content:wn(E)}}}const dt="file-summary",xn="icon",Cn={colorScheme:Le.colorScheme};class Nn{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Cn),n)}render(t){const n=t.map(e=>this.hoganUtils.render(dt,"line",{fileHtmlId:Ge(e),oldName:e.oldName,newName:e.newName,fileName:Ee(e),deletedLines:"-"+e.deletedLines,addedLines:"+"+e.addedLines},{fileIcon:this.hoganUtils.template(xn,Ve(e))})).join(`
`);return this.hoganUtils.render(dt,"wrapper",{colorScheme:Ue(this.config.colorScheme),filesNumber:t.length,files:n})}}const Nt=Object.assign(Object.assign({},Le),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),pe="generic",ft="line-by-line",Ln="icon",En="tag";class Sn{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Nt),n)}render(t){const n=t.map(e=>{let s;return e.blocks.length?s=this.generateFileHtml(e):s=this.generateEmptyDiff(),this.makeFileDiffHtml(e,s)}).join(`
`);return this.hoganUtils.render(pe,"wrapper",{colorScheme:Ue(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";const e=this.hoganUtils.template(ft,"file-diff"),s=this.hoganUtils.template(pe,"file-path"),r=this.hoganUtils.template(Ln,"file"),a=this.hoganUtils.template(En,Ve(t));return e.render({file:t,fileHtmlId:Ge(t),diffs:n,filePath:s.render({fileDiffName:Ee(t)},{fileIcon:r,fileTag:a})})}generateEmptyDiff(){return this.hoganUtils.render(pe,"empty-diff",{contentClass:"d2h-code-line",CSSLineClass:j})}generateFileHtml(t){const n=qe(We(e=>ee(e.content,t.isCombined).content));return t.blocks.map(e=>{let s=this.hoganUtils.render(pe,"block-header",{CSSLineClass:j,blockHeader:t.isTooBig?e.header:ce(e.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});return this.applyLineGroupping(e).forEach(([r,a,l])=>{if(a.length&&l.length&&!r.length)this.applyRematchMatching(a,l,n).map(([o,d])=>{const{left:h,right:b}=this.processChangedLines(t,t.isCombined,o,d);s+=h,s+=b});else if(r.length)r.forEach(o=>{const{prefix:d,content:h}=ee(o.content,t.isCombined);s+=this.generateSingleLineHtml(t,{type:j.CONTEXT,prefix:d,content:h,oldNumber:o.oldNumber,newNumber:o.newNumber})});else if(a.length||l.length){const{left:o,right:d}=this.processChangedLines(t,t.isCombined,a,l);s+=o,s+=d}else console.error("Unknown state reached while processing groups of lines",r,a,l)}),s}).join(`
`)}applyLineGroupping(t){const n=[];let e=[],s=[];for(let r=0;r<t.lines.length;r++){const a=t.lines[r];(a.type!==H.INSERT&&s.length||a.type===H.CONTEXT&&e.length>0)&&(n.push([[],e,s]),e=[],s=[]),a.type===H.CONTEXT?n.push([[a],[],[]]):a.type===H.INSERT&&e.length===0?n.push([[],[],[a]]):a.type===H.INSERT&&e.length>0?s.push(a):a.type===H.DELETE&&e.push(a)}return(e.length||s.length)&&(n.push([[],e,s]),e=[],s=[]),n}applyRematchMatching(t,n,e){const s=t.length*n.length,r=yt(t.concat(n).map(l=>l.content.length));return s<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?e(t,n):[[t,n]]}processChangedLines(t,n,e,s){const r={right:"",left:""},a=Math.max(e.length,s.length);for(let l=0;l<a;l++){const o=e[l],d=s[l],h=o!==void 0&&d!==void 0?Ct(o.content,d.content,n,this.config):void 0,b=o!==void 0&&o.oldNumber!==void 0?Object.assign(Object.assign({},h!==void 0?{prefix:h.oldLine.prefix,content:h.oldLine.content,type:j.DELETE_CHANGES}:Object.assign(Object.assign({},ee(o.content,n)),{type:Ce(o.type)})),{oldNumber:o.oldNumber,newNumber:o.newNumber}):void 0,E=d!==void 0&&d.newNumber!==void 0?Object.assign(Object.assign({},h!==void 0?{prefix:h.newLine.prefix,content:h.newLine.content,type:j.INSERT_CHANGES}:Object.assign(Object.assign({},ee(d.content,n)),{type:Ce(d.type)})),{oldNumber:d.oldNumber,newNumber:d.newNumber}):void 0,{left:c,right:f}=this.generateLineHtml(t,b,E);r.left+=c,r.right+=f}return r}generateLineHtml(t,n,e){return{left:this.generateSingleLineHtml(t,n),right:this.generateSingleLineHtml(t,e)}}generateSingleLineHtml(t,n){if(n===void 0)return"";const e=this.hoganUtils.render(ft,"numbers",{oldNumber:n.oldNumber||"",newNumber:n.newNumber||""});return this.hoganUtils.render(pe,"line",{type:n.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:n.prefix===" "?"&nbsp;":n.prefix,content:n.content,lineNumber:e,line:n,file:t})}}const Lt=Object.assign(Object.assign({},Le),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),me="generic",In="side-by-side",_n="icon",Mn="tag";class kn{constructor(t,n={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Lt),n)}render(t){const n=t.map(e=>{let s;return e.blocks.length?s=this.generateFileHtml(e):s=this.generateEmptyDiff(),this.makeFileDiffHtml(e,s)}).join(`
`);return this.hoganUtils.render(me,"wrapper",{colorScheme:Ue(this.config.colorScheme),content:n})}makeFileDiffHtml(t,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";const e=this.hoganUtils.template(In,"file-diff"),s=this.hoganUtils.template(me,"file-path"),r=this.hoganUtils.template(_n,"file"),a=this.hoganUtils.template(Mn,Ve(t));return e.render({file:t,fileHtmlId:Ge(t),diffs:n,filePath:s.render({fileDiffName:Ee(t)},{fileIcon:r,fileTag:a})})}generateEmptyDiff(){return{right:"",left:this.hoganUtils.render(me,"empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:j})}}generateFileHtml(t){const n=qe(We(e=>ee(e.content,t.isCombined).content));return t.blocks.map(e=>{const s={left:this.makeHeaderHtml(e.header,t),right:this.makeHeaderHtml("")};return this.applyLineGroupping(e).forEach(([r,a,l])=>{if(a.length&&l.length&&!r.length)this.applyRematchMatching(a,l,n).map(([o,d])=>{const{left:h,right:b}=this.processChangedLines(t.isCombined,o,d);s.left+=h,s.right+=b});else if(r.length)r.forEach(o=>{const{prefix:d,content:h}=ee(o.content,t.isCombined),{left:b,right:E}=this.generateLineHtml({type:j.CONTEXT,prefix:d,content:h,number:o.oldNumber},{type:j.CONTEXT,prefix:d,content:h,number:o.newNumber});s.left+=b,s.right+=E});else if(a.length||l.length){const{left:o,right:d}=this.processChangedLines(t.isCombined,a,l);s.left+=o,s.right+=d}else console.error("Unknown state reached while processing groups of lines",r,a,l)}),s}).reduce((e,s)=>({left:e.left+s.left,right:e.right+s.right}),{left:"",right:""})}applyLineGroupping(t){const n=[];let e=[],s=[];for(let r=0;r<t.lines.length;r++){const a=t.lines[r];(a.type!==H.INSERT&&s.length||a.type===H.CONTEXT&&e.length>0)&&(n.push([[],e,s]),e=[],s=[]),a.type===H.CONTEXT?n.push([[a],[],[]]):a.type===H.INSERT&&e.length===0?n.push([[],[],[a]]):a.type===H.INSERT&&e.length>0?s.push(a):a.type===H.DELETE&&e.push(a)}return(e.length||s.length)&&(n.push([[],e,s]),e=[],s=[]),n}applyRematchMatching(t,n,e){const s=t.length*n.length,r=yt(t.concat(n).map(l=>l.content.length));return s<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?e(t,n):[[t,n]]}makeHeaderHtml(t,n){return this.hoganUtils.render(me,"block-header",{CSSLineClass:j,blockHeader:n?.isTooBig?t:ce(t),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})}processChangedLines(t,n,e){const s={right:"",left:""},r=Math.max(n.length,e.length);for(let a=0;a<r;a++){const l=n[a],o=e[a],d=l!==void 0&&o!==void 0?Ct(l.content,o.content,t,this.config):void 0,h=l!==void 0&&l.oldNumber!==void 0?Object.assign(Object.assign({},d!==void 0?{prefix:d.oldLine.prefix,content:d.oldLine.content,type:j.DELETE_CHANGES}:Object.assign(Object.assign({},ee(l.content,t)),{type:Ce(l.type)})),{number:l.oldNumber}):void 0,b=o!==void 0&&o.newNumber!==void 0?Object.assign(Object.assign({},d!==void 0?{prefix:d.newLine.prefix,content:d.newLine.content,type:j.INSERT_CHANGES}:Object.assign(Object.assign({},ee(o.content,t)),{type:Ce(o.type)})),{number:o.newNumber}):void 0,{left:E,right:c}=this.generateLineHtml(h,b);s.left+=E,s.right+=c}return s}generateLineHtml(t,n){return{left:this.generateSingleHtml(t),right:this.generateSingleHtml(n)}}generateSingleHtml(t){const n="d2h-code-side-linenumber",e="d2h-code-side-line";return this.hoganUtils.render(me,"line",{type:t?.type||`${j.CONTEXT} d2h-emptyplaceholder`,lineClass:t!==void 0?n:`${n} d2h-code-side-emptyplaceholder`,contentClass:t!==void 0?e:`${e} d2h-code-side-emptyplaceholder`,prefix:t?.prefix===" "?"&nbsp;":t?.prefix,content:t?.content,lineNumber:t?.number})}}var Oe={},ut;function On(){return ut||(ut=1,(function(i){(function(t){var n=/\S/,e=/\"/g,s=/\n/g,r=/\r/g,a=/\\/g,l=/\u2028/,o=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(g,y){var S=g.length,k=0,z=1,R=2,M=k,V=null,X=null,$="",D=[],Q=!1,w=0,_=0,x="{{",W="}}";function B(){$.length>0&&(D.push({tag:"_t",text:new String($)}),$="")}function te(){for(var ie=!0,Z=_;Z<D.length;Z++)if(ie=t.tags[D[Z].tag]<t.tags._v||D[Z].tag=="_t"&&D[Z].text.match(n)===null,!ie)return!1;return ie}function ne(ie,Z){if(B(),ie&&te())for(var se=_,le;se<D.length;se++)D[se].text&&((le=D[se+1])&&le.tag==">"&&(le.indent=D[se].text.toString()),D.splice(se,1));else Z||D.push({tag:`
`});Q=!1,_=D.length}function de(ie,Z){var se="="+W,le=ie.indexOf(se,Z),Se=h(ie.substring(ie.indexOf("=",Z)+1,le)).split(" ");return x=Se[0],W=Se[Se.length-1],le+se.length-1}for(y&&(y=y.split(" "),x=y[0],W=y[1]),w=0;w<S;w++)M==k?b(x,g,w)?(--w,B(),M=z):g.charAt(w)==`
`?ne(Q):$+=g.charAt(w):M==z?(w+=x.length-1,X=t.tags[g.charAt(w+1)],V=X?g.charAt(w+1):"_v",V=="="?(w=de(g,w),M=k):(X&&w++,M=R),Q=w):b(W,g,w)?(D.push({tag:V,n:h($),otag:x,ctag:W,i:V=="/"?Q-x.length:w+W.length}),$="",w+=W.length-1,M=k,V=="{"&&(W=="}}"?w++:d(D[D.length-1]))):$+=g.charAt(w);return ne(Q,!0),D};function d(u){u.n.substr(u.n.length-1)==="}"&&(u.n=u.n.substring(0,u.n.length-1))}function h(u){return u.trim?u.trim():u.replace(/^\s*|\s*$/g,"")}function b(u,g,y){if(g.charAt(y)!=u.charAt(0))return!1;for(var S=1,k=u.length;S<k;S++)if(g.charAt(y+S)!=u.charAt(S))return!1;return!0}var E={_t:!0,"\n":!0,$:!0,"/":!0};function c(u,g,y,S){var k=[],z=null,R=null,M=null;for(R=y[y.length-1];u.length>0;){if(M=u.shift(),R&&R.tag=="<"&&!(M.tag in E))throw new Error("Illegal content in < super tag.");if(t.tags[M.tag]<=t.tags.$||f(M,S))y.push(M),M.nodes=c(u,M.tag,y,S);else if(M.tag=="/"){if(y.length===0)throw new Error("Closing tag without opener: /"+M.n);if(z=y.pop(),M.n!=z.n&&!p(M.n,z.n,S))throw new Error("Nesting error: "+z.n+" vs. "+M.n);return z.end=M.i,k}else M.tag==`
`&&(M.last=u.length==0||u[0].tag==`
`);k.push(M)}if(y.length>0)throw new Error("missing closing tag: "+y.pop().n);return k}function f(u,g){for(var y=0,S=g.length;y<S;y++)if(g[y].o==u.n)return u.tag="#",!0}function p(u,g,y){for(var S=0,k=y.length;S<k;S++)if(y[S].c==u&&y[S].o==g)return!0}function m(u){var g=[];for(var y in u)g.push('"'+v(y)+'": function(c,p,t,i) {'+u[y]+"}");return"{ "+g.join(",")+" }"}function T(u){var g=[];for(var y in u.partials)g.push('"'+v(y)+'":{name:"'+v(u.partials[y].name)+'", '+T(u.partials[y])+"}");return"partials: {"+g.join(",")+"}, subs: "+m(u.subs)}t.stringify=function(u,g,y){return"{code: function (c,p,i) { "+t.wrapMain(u.code)+" },"+T(u)+"}"};var C=0;t.generate=function(u,g,y){C=0;var S={code:"",subs:{},partials:{}};return t.walk(u,S),y.asString?this.stringify(S,g,y):this.makeTemplate(S,g,y)},t.wrapMain=function(u){return'var t=this;t.b(i=i||"");'+u+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(u,g,y){var S=this.makePartials(u);return S.code=new Function("c","p","i",this.wrapMain(u.code)),new this.template(S,g,this,y)},t.makePartials=function(u){var g,y={subs:{},partials:u.partials,name:u.name};for(g in y.partials)y.partials[g]=this.makePartials(y.partials[g]);for(g in u.subs)y.subs[g]=new Function("c","p","t","i",u.subs[g]);return y};function v(u){return u.replace(a,"\\\\").replace(e,'\\"').replace(s,"\\n").replace(r,"\\r").replace(l,"\\u2028").replace(o,"\\u2029")}function N(u){return~u.indexOf(".")?"d":"f"}function L(u,g){var y="<"+(g.prefix||""),S=y+u.n+C++;return g.partials[S]={name:u.n,partials:{}},g.code+='t.b(t.rp("'+v(S)+'",c,p,"'+(u.indent||"")+'"));',S}t.codegen={"#":function(u,g){g.code+="if(t.s(t."+N(u.n)+'("'+v(u.n)+'",c,p,1),c,p,0,'+u.i+","+u.end+',"'+u.otag+" "+u.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(u.nodes,g),g.code+="});c.pop();}"},"^":function(u,g){g.code+="if(!t.s(t."+N(u.n)+'("'+v(u.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(u.nodes,g),g.code+="};"},">":L,"<":function(u,g){var y={partials:{},code:"",subs:{},inPartial:!0};t.walk(u.nodes,y);var S=g.partials[L(u,g)];S.subs=y.subs,S.partials=y.partials},$:function(u,g){var y={subs:{},code:"",partials:g.partials,prefix:u.n};t.walk(u.nodes,y),g.subs[u.n]=y.code,g.inPartial||(g.code+='t.sub("'+v(u.n)+'",c,p,i);')},"\n":function(u,g){g.code+=F('"\\n"'+(u.last?"":" + i"))},_v:function(u,g){g.code+="t.b(t.v(t."+N(u.n)+'("'+v(u.n)+'",c,p,0)));'},_t:function(u,g){g.code+=F('"'+v(u.text)+'"')},"{":I,"&":I};function I(u,g){g.code+="t.b(t.t(t."+N(u.n)+'("'+v(u.n)+'",c,p,0)));'}function F(u){return"t.b("+u+");"}t.walk=function(u,g){for(var y,S=0,k=u.length;S<k;S++)y=t.codegen[u[S].tag],y&&y(u[S],g);return g},t.parse=function(u,g,y){return y=y||{},c(u,"",[],y.sectionTags||[])},t.cache={},t.cacheKey=function(u,g){return[u,!!g.asString,!!g.disableLambda,g.delimiters,!!g.modelGet].join("||")},t.compile=function(u,g){g=g||{};var y=t.cacheKey(u,g),S=this.cache[y];if(S){var k=S.partials;for(var z in k)delete k[z].instance;return S}return S=this.generate(this.parse(this.scan(u,g.delimiters),u,g),u,g),this.cache[y]=S}})(i)})(Oe)),Oe}var De={},ht;function Dn(){return ht||(ht=1,(function(i){(function(t){t.Template=function(c,f,p,m){c=c||{},this.r=c.code||this.r,this.c=p,this.options=m||{},this.text=f||"",this.partials=c.partials||{},this.subs=c.subs||{},this.buf=""},t.Template.prototype={r:function(c,f,p){return""},v:b,t:h,render:function(f,p,m){return this.ri([f],p||{},m)},ri:function(c,f,p){return this.r(c,f,p)},ep:function(c,f){var p=this.partials[c],m=f[p.name];if(p.instance&&p.base==m)return p.instance;if(typeof m=="string"){if(!this.c)throw new Error("No compiler available.");m=this.c.compile(m,this.options)}if(!m)return null;if(this.partials[c].base=m,p.subs){f.stackText||(f.stackText={});for(key in p.subs)f.stackText[key]||(f.stackText[key]=this.activeSub!==void 0&&f.stackText[this.activeSub]?f.stackText[this.activeSub]:this.text);m=e(m,p.subs,p.partials,this.stackSubs,this.stackPartials,f.stackText)}return this.partials[c].instance=m,m},rp:function(c,f,p,m){var T=this.ep(c,p);return T?T.ri(f,p,m):""},rs:function(c,f,p){var m=c[c.length-1];if(!E(m)){p(c,f,this);return}for(var T=0;T<m.length;T++)c.push(m[T]),p(c,f,this),c.pop()},s:function(c,f,p,m,T,C,v){var N;return E(c)&&c.length===0?!1:(typeof c=="function"&&(c=this.ms(c,f,p,m,T,C,v)),N=!!c,!m&&N&&f&&f.push(typeof c=="object"?c:f[f.length-1]),N)},d:function(c,f,p,m){var T,C=c.split("."),v=this.f(C[0],f,p,m),N=this.options.modelGet,L=null;if(c==="."&&E(f[f.length-2]))v=f[f.length-1];else for(var I=1;I<C.length;I++)T=n(C[I],v,N),T!==void 0?(L=v,v=T):v="";return m&&!v?!1:(!m&&typeof v=="function"&&(f.push(L),v=this.mv(v,f,p),f.pop()),v)},f:function(c,f,p,m){for(var T=!1,C=null,v=!1,N=this.options.modelGet,L=f.length-1;L>=0;L--)if(C=f[L],T=n(c,C,N),T!==void 0){v=!0;break}return v?(!m&&typeof T=="function"&&(T=this.mv(T,f,p)),T):m?!1:""},ls:function(c,f,p,m,T){var C=this.options.delimiters;return this.options.delimiters=T,this.b(this.ct(h(c.call(f,m)),f,p)),this.options.delimiters=C,!1},ct:function(c,f,p){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(c,this.options).render(f,p)},b:function(c){this.buf+=c},fl:function(){var c=this.buf;return this.buf="",c},ms:function(c,f,p,m,T,C,v){var N,L=f[f.length-1],I=c.call(L);return typeof I=="function"?m?!0:(N=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(I,L,p,N.substring(T,C),v)):I},mv:function(c,f,p){var m=f[f.length-1],T=c.call(m);return typeof T=="function"?this.ct(h(T.call(m)),m,p):T},sub:function(c,f,p,m){var T=this.subs[c];T&&(this.activeSub=c,T(f,p,this,m),this.activeSub=!1)}};function n(c,f,p){var m;return f&&typeof f=="object"&&(f[c]!==void 0?m=f[c]:p&&f.get&&typeof f.get=="function"&&(m=f.get(c))),m}function e(c,f,p,m,T,C){function v(){}v.prototype=c;function N(){}N.prototype=c.subs;var L,I=new v;I.subs=new N,I.subsText={},I.buf="",m=m||{},I.stackSubs=m,I.subsText=C;for(L in f)m[L]||(m[L]=f[L]);for(L in m)I.subs[L]=m[L];T=T||{},I.stackPartials=T;for(L in p)T[L]||(T[L]=p[L]);for(L in T)I.partials[L]=T[L];return I}var s=/&/g,r=/</g,a=/>/g,l=/\'/g,o=/\"/g,d=/[&<>\"\']/;function h(c){return String(c??"")}function b(c){return c=h(c),d.test(c)?c.replace(s,"&amp;").replace(r,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(o,"&quot;"):c}var E=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"}})(i)})(De)),De}var Pe,pt;function Pn(){if(pt)return Pe;pt=1;var i=On();return i.Template=Dn().Template,i.template=i.Template,Pe=i,Pe}var P=Pn();const A={};A["file-summary-line"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<li class="d2h-file-list-line">'),e.b(`
`+n),e.b('    <span class="d2h-file-name-wrapper">'),e.b(`
`+n),e.b(e.rp("<fileIcon0",i,t,"      ")),e.b('      <a href="#'),e.b(e.v(e.f("fileHtmlId",i,t,0))),e.b('" class="d2h-file-name">'),e.b(e.v(e.f("fileName",i,t,0))),e.b("</a>"),e.b(`
`+n),e.b('      <span class="d2h-file-stats">'),e.b(`
`+n),e.b('          <span class="d2h-lines-added">'),e.b(e.v(e.f("addedLines",i,t,0))),e.b("</span>"),e.b(`
`+n),e.b('          <span class="d2h-lines-deleted">'),e.b(e.v(e.f("deletedLines",i,t,0))),e.b("</span>"),e.b(`
`+n),e.b("      </span>"),e.b(`
`+n),e.b("    </span>"),e.b(`
`+n),e.b("</li>"),e.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});A["file-summary-wrapper"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<div class="d2h-file-list-wrapper '),e.b(e.v(e.f("colorScheme",i,t,0))),e.b('">'),e.b(`
`+n),e.b('    <div class="d2h-file-list-header">'),e.b(`
`+n),e.b('        <span class="d2h-file-list-title">Files changed ('),e.b(e.v(e.f("filesNumber",i,t,0))),e.b(")</span>"),e.b(`
`+n),e.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),e.b(`
`+n),e.b('        <a class="d2h-file-switch d2h-show">show</a>'),e.b(`
`+n),e.b("    </div>"),e.b(`
`+n),e.b('    <ol class="d2h-file-list">'),e.b(`
`+n),e.b("    "),e.b(e.t(e.f("files",i,t,0))),e.b(`
`+n),e.b("    </ol>"),e.b(`
`+n),e.b("</div>"),e.fl()},partials:{},subs:{}});A["generic-block-header"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b("<tr>"),e.b(`
`+n),e.b('    <td class="'),e.b(e.v(e.f("lineClass",i,t,0))),e.b(" "),e.b(e.v(e.d("CSSLineClass.INFO",i,t,0))),e.b('"></td>'),e.b(`
`+n),e.b('    <td class="'),e.b(e.v(e.d("CSSLineClass.INFO",i,t,0))),e.b('">'),e.b(`
`+n),e.b('        <div class="'),e.b(e.v(e.f("contentClass",i,t,0))),e.b('">'),e.s(e.f("blockHeader",i,t,1),i,t,0,156,173,"{{ }}")&&(e.rs(i,t,function(s,r,a){a.b(a.t(a.f("blockHeader",s,r,0)))}),i.pop()),e.s(e.f("blockHeader",i,t,1),i,t,1,0,0,"")||e.b("&nbsp;"),e.b("</div>"),e.b(`
`+n),e.b("    </td>"),e.b(`
`+n),e.b("</tr>"),e.fl()},partials:{},subs:{}});A["generic-empty-diff"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b("<tr>"),e.b(`
`+n),e.b('    <td class="'),e.b(e.v(e.d("CSSLineClass.INFO",i,t,0))),e.b('">'),e.b(`
`+n),e.b('        <div class="'),e.b(e.v(e.f("contentClass",i,t,0))),e.b('">'),e.b(`
`+n),e.b("            File without changes"),e.b(`
`+n),e.b("        </div>"),e.b(`
`+n),e.b("    </td>"),e.b(`
`+n),e.b("</tr>"),e.fl()},partials:{},subs:{}});A["generic-file-path"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<span class="d2h-file-name-wrapper">'),e.b(`
`+n),e.b(e.rp("<fileIcon0",i,t,"    ")),e.b('    <span class="d2h-file-name">'),e.b(e.v(e.f("fileDiffName",i,t,0))),e.b("</span>"),e.b(`
`+n),e.b(e.rp("<fileTag1",i,t,"    ")),e.b("</span>"),e.b(`
`+n),e.b('<label class="d2h-file-collapse">'),e.b(`
`+n),e.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">'),e.b(`
`+n),e.b("    Viewed"),e.b(`
`+n),e.b("</label>"),e.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});A["generic-line"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b("<tr>"),e.b(`
`+n),e.b('    <td class="'),e.b(e.v(e.f("lineClass",i,t,0))),e.b(" "),e.b(e.v(e.f("type",i,t,0))),e.b('">'),e.b(`
`+n),e.b("      "),e.b(e.t(e.f("lineNumber",i,t,0))),e.b(`
`+n),e.b("    </td>"),e.b(`
`+n),e.b('    <td class="'),e.b(e.v(e.f("type",i,t,0))),e.b('">'),e.b(`
`+n),e.b('        <div class="'),e.b(e.v(e.f("contentClass",i,t,0))),e.b('">'),e.b(`
`+n),e.s(e.f("prefix",i,t,1),i,t,0,162,238,"{{ }}")&&(e.rs(i,t,function(s,r,a){a.b('            <span class="d2h-code-line-prefix">'),a.b(a.t(a.f("prefix",s,r,0))),a.b("</span>"),a.b(`
`+n)}),i.pop()),e.s(e.f("prefix",i,t,1),i,t,1,0,0,"")||(e.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),e.b(`
`+n)),e.s(e.f("content",i,t,1),i,t,0,371,445,"{{ }}")&&(e.rs(i,t,function(s,r,a){a.b('            <span class="d2h-code-line-ctn">'),a.b(a.t(a.f("content",s,r,0))),a.b("</span>"),a.b(`
`+n)}),i.pop()),e.s(e.f("content",i,t,1),i,t,1,0,0,"")||(e.b('            <span class="d2h-code-line-ctn"><br></span>'),e.b(`
`+n)),e.b("        </div>"),e.b(`
`+n),e.b("    </td>"),e.b(`
`+n),e.b("</tr>"),e.fl()},partials:{},subs:{}});A["generic-wrapper"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<div class="d2h-wrapper '),e.b(e.v(e.f("colorScheme",i,t,0))),e.b('">'),e.b(`
`+n),e.b("    "),e.b(e.t(e.f("content",i,t,0))),e.b(`
`+n),e.b("</div>"),e.fl()},partials:{},subs:{}});A["icon-file-added"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),e.b(`
`+n),e.b('     width="14">'),e.b(`
`+n),e.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),e.b(`
`+n),e.b("</svg>"),e.fl()},partials:{},subs:{}});A["icon-file-changed"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),e.b(`
`+n),e.b('     viewBox="0 0 14 16" width="14">'),e.b(`
`+n),e.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),e.b(`
`+n),e.b("</svg>"),e.fl()},partials:{},subs:{}});A["icon-file-deleted"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),e.b(`
`+n),e.b('     viewBox="0 0 14 16" width="14">'),e.b(`
`+n),e.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),e.b(`
`+n),e.b("</svg>"),e.fl()},partials:{},subs:{}});A["icon-file-renamed"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),e.b(`
`+n),e.b('     viewBox="0 0 14 16" width="14">'),e.b(`
`+n),e.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),e.b(`
`+n),e.b("</svg>"),e.fl()},partials:{},subs:{}});A["icon-file"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),e.b(`
`+n),e.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),e.b(`
`+n),e.b("</svg>"),e.fl()},partials:{},subs:{}});A["line-by-line-file-diff"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<div id="'),e.b(e.v(e.f("fileHtmlId",i,t,0))),e.b('" class="d2h-file-wrapper" data-lang="'),e.b(e.v(e.d("file.language",i,t,0))),e.b('">'),e.b(`
`+n),e.b('    <div class="d2h-file-header">'),e.b(`
`+n),e.b("    "),e.b(e.t(e.f("filePath",i,t,0))),e.b(`
`+n),e.b("    </div>"),e.b(`
`+n),e.b('    <div class="d2h-file-diff">'),e.b(`
`+n),e.b('        <div class="d2h-code-wrapper">'),e.b(`
`+n),e.b('            <table class="d2h-diff-table">'),e.b(`
`+n),e.b('                <tbody class="d2h-diff-tbody">'),e.b(`
`+n),e.b("                "),e.b(e.t(e.f("diffs",i,t,0))),e.b(`
`+n),e.b("                </tbody>"),e.b(`
`+n),e.b("            </table>"),e.b(`
`+n),e.b("        </div>"),e.b(`
`+n),e.b("    </div>"),e.b(`
`+n),e.b("</div>"),e.fl()},partials:{},subs:{}});A["line-by-line-numbers"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<div class="line-num1">'),e.b(e.v(e.f("oldNumber",i,t,0))),e.b("</div>"),e.b(`
`+n),e.b('<div class="line-num2">'),e.b(e.v(e.f("newNumber",i,t,0))),e.b("</div>"),e.fl()},partials:{},subs:{}});A["side-by-side-file-diff"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<div id="'),e.b(e.v(e.f("fileHtmlId",i,t,0))),e.b('" class="d2h-file-wrapper" data-lang="'),e.b(e.v(e.d("file.language",i,t,0))),e.b('">'),e.b(`
`+n),e.b('    <div class="d2h-file-header">'),e.b(`
`+n),e.b("      "),e.b(e.t(e.f("filePath",i,t,0))),e.b(`
`+n),e.b("    </div>"),e.b(`
`+n),e.b('    <div class="d2h-files-diff">'),e.b(`
`+n),e.b('        <div class="d2h-file-side-diff">'),e.b(`
`+n),e.b('            <div class="d2h-code-wrapper">'),e.b(`
`+n),e.b('                <table class="d2h-diff-table">'),e.b(`
`+n),e.b('                    <tbody class="d2h-diff-tbody">'),e.b(`
`+n),e.b("                    "),e.b(e.t(e.d("diffs.left",i,t,0))),e.b(`
`+n),e.b("                    </tbody>"),e.b(`
`+n),e.b("                </table>"),e.b(`
`+n),e.b("            </div>"),e.b(`
`+n),e.b("        </div>"),e.b(`
`+n),e.b('        <div class="d2h-file-side-diff">'),e.b(`
`+n),e.b('            <div class="d2h-code-wrapper">'),e.b(`
`+n),e.b('                <table class="d2h-diff-table">'),e.b(`
`+n),e.b('                    <tbody class="d2h-diff-tbody">'),e.b(`
`+n),e.b("                    "),e.b(e.t(e.d("diffs.right",i,t,0))),e.b(`
`+n),e.b("                    </tbody>"),e.b(`
`+n),e.b("                </table>"),e.b(`
`+n),e.b("            </div>"),e.b(`
`+n),e.b("        </div>"),e.b(`
`+n),e.b("    </div>"),e.b(`
`+n),e.b("</div>"),e.fl()},partials:{},subs:{}});A["tag-file-added"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),e.fl()},partials:{},subs:{}});A["tag-file-changed"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),e.fl()},partials:{},subs:{}});A["tag-file-deleted"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),e.fl()},partials:{},subs:{}});A["tag-file-renamed"]=new P.Template({code:function(i,t,n){var e=this;return e.b(n=n||""),e.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),e.fl()},partials:{},subs:{}});class Hn{constructor({compiledTemplates:t={},rawTemplates:n={}}){const e=Object.entries(n).reduce((s,[r,a])=>{const l=P.compile(a,{asString:!1});return Object.assign(Object.assign({},s),{[r]:l})},{});this.preCompiledTemplates=Object.assign(Object.assign(Object.assign({},A),t),e)}static compile(t){return P.compile(t,{asString:!1})}render(t,n,e,s,r){const a=this.templateKey(t,n);try{return this.preCompiledTemplates[a].render(e,s,r)}catch{throw new Error(`Could not find template to render '${a}'`)}}template(t,n){return this.preCompiledTemplates[this.templateKey(t,n)]}templateKey(t,n){return`${t}-${n}`}}const Et=Object.assign(Object.assign(Object.assign({},Nt),Lt),{outputFormat:en.LINE_BY_LINE,drawFileList:!0});function An(i,t={}){return wt(i,Object.assign(Object.assign({},Et),t))}function Fn(i,t={}){const n=Object.assign(Object.assign({},Et),t),e=typeof i=="string"?wt(i,n):i,s=new Hn(n),{colorScheme:r}=n,a={colorScheme:r},l=n.drawFileList?new Nn(s,a).render(e):"",o=n.outputFormat==="side-by-side"?new kn(s,n).render(e):new Sn(s,n).render(e);return l+o}class Rn{diff(t,n,e={}){let s;typeof e=="function"?(s=e,e={}):"callback"in e&&(s=e.callback);const r=this.castInput(t,e),a=this.castInput(n,e),l=this.removeEmpty(this.tokenize(r,e)),o=this.removeEmpty(this.tokenize(a,e));return this.diffWithOptionsObj(l,o,e,s)}diffWithOptionsObj(t,n,e,s){var r;const a=C=>{if(C=this.postProcess(C,e),s){setTimeout(function(){s(C)},0);return}else return C},l=n.length,o=t.length;let d=1,h=l+o;e.maxEditLength!=null&&(h=Math.min(h,e.maxEditLength));const b=(r=e.timeout)!==null&&r!==void 0?r:1/0,E=Date.now()+b,c=[{oldPos:-1,lastComponent:void 0}];let f=this.extractCommon(c[0],n,t,0,e);if(c[0].oldPos+1>=o&&f+1>=l)return a(this.buildValues(c[0].lastComponent,n,t));let p=-1/0,m=1/0;const T=()=>{for(let C=Math.max(p,-d);C<=Math.min(m,d);C+=2){let v;const N=c[C-1],L=c[C+1];N&&(c[C-1]=void 0);let I=!1;if(L){const u=L.oldPos-C;I=L&&0<=u&&u<l}const F=N&&N.oldPos+1<o;if(!I&&!F){c[C]=void 0;continue}if(!F||I&&N.oldPos<L.oldPos?v=this.addToPath(L,!0,!1,0,e):v=this.addToPath(N,!1,!0,1,e),f=this.extractCommon(v,n,t,C,e),v.oldPos+1>=o&&f+1>=l)return a(this.buildValues(v.lastComponent,n,t))||!0;c[C]=v,v.oldPos+1>=o&&(m=Math.min(m,C-1)),f+1>=l&&(p=Math.max(p,C+1))}d++};if(s)(function C(){setTimeout(function(){if(d>h||Date.now()>E)return s(void 0);T()||C()},0)})();else for(;d<=h&&Date.now()<=E;){const C=T();if(C)return C}}addToPath(t,n,e,s,r){const a=t.lastComponent;return a&&!r.oneChangePerToken&&a.added===n&&a.removed===e?{oldPos:t.oldPos+s,lastComponent:{count:a.count+1,added:n,removed:e,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:e,previousComponent:a}}}extractCommon(t,n,e,s,r){const a=n.length,l=e.length;let o=t.oldPos,d=o-s,h=0;for(;d+1<a&&o+1<l&&this.equals(e[o+1],n[d+1],r);)d++,o++,h++,r.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return h&&!r.oneChangePerToken&&(t.lastComponent={count:h,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=o,d}equals(t,n,e){return e.comparator?e.comparator(t,n):t===n||!!e.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(t[e]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,e){const s=[];let r;for(;t;)s.push(t),r=t.previousComponent,delete t.previousComponent,t=r;s.reverse();const a=s.length;let l=0,o=0,d=0;for(;l<a;l++){const h=s[l];if(h.removed)h.value=this.join(e.slice(d,d+h.count)),d+=h.count;else{if(!h.added&&this.useLongestToken){let b=n.slice(o,o+h.count);b=b.map(function(E,c){const f=e[d+c];return f.length>E.length?f:E}),h.value=this.join(b)}else h.value=this.join(n.slice(o,o+h.count));o+=h.count,h.added||(d+=h.count)}}return s}}class Bn extends Rn{constructor(){super(...arguments),this.tokenize=$n}equals(t,n,e){return e.ignoreWhitespace?((!e.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!e.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):e.ignoreNewlineAtEof&&!e.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(t,n,e)}}const zn=new Bn;function mt(i,t,n){return zn.diff(i,t,n)}function $n(i,t){t.stripTrailingCr&&(i=i.replace(/\r\n/g,`
`));const n=[],e=i.split(/(\n|\r\n)/);e[e.length-1]||e.pop();for(let s=0;s<e.length;s++){const r=e[s];s%2&&!t.newlineIsToken?n[n.length-1]+=r:n.push(r)}return n}function gt(i,t,n,e,s,r,a){let l;a?typeof a=="function"?l={callback:a}:l=a:l={},typeof l.context>"u"&&(l.context=4);const o=l.context;if(l.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(l.callback){const{callback:h}=l;mt(n,e,Object.assign(Object.assign({},l),{callback:b=>{const E=d(b);h(E)}}))}else return d(mt(n,e,l));function d(h){if(!h)return;h.push({value:"",lines:[]});function b(C){return C.map(function(v){return" "+v})}const E=[];let c=0,f=0,p=[],m=1,T=1;for(let C=0;C<h.length;C++){const v=h[C],N=v.lines||Wn(v.value);if(v.lines=N,v.added||v.removed){if(!c){const L=h[C-1];c=m,f=T,L&&(p=o>0?b(L.lines.slice(-o)):[],c-=p.length,f-=p.length)}for(const L of N)p.push((v.added?"+":"-")+L);v.added?T+=N.length:m+=N.length}else{if(c)if(N.length<=o*2&&C<h.length-2)for(const L of b(N))p.push(L);else{const L=Math.min(N.length,o);for(const F of b(N.slice(0,L)))p.push(F);const I={oldStart:c,oldLines:m-c+L,newStart:f,newLines:T-f+L,lines:p};E.push(I),c=0,f=0,p=[]}m+=N.length,T+=N.length}}for(const C of E)for(let v=0;v<C.lines.length;v++)C.lines[v].endsWith(`
`)?C.lines[v]=C.lines[v].slice(0,-1):(C.lines.splice(v+1,0,"\\ No newline at end of file"),v++);return{oldFileName:i,newFileName:t,oldHeader:s,newHeader:r,hunks:E}}}function ze(i){if(Array.isArray(i))return i.map(ze).join(`
`);const t=[];i.oldFileName==i.newFileName&&t.push("Index: "+i.oldFileName),t.push("==================================================================="),t.push("--- "+i.oldFileName+(typeof i.oldHeader>"u"?"":"	"+i.oldHeader)),t.push("+++ "+i.newFileName+(typeof i.newHeader>"u"?"":"	"+i.newHeader));for(let n=0;n<i.hunks.length;n++){const e=i.hunks[n];e.oldLines===0&&(e.oldStart-=1),e.newLines===0&&(e.newStart-=1),t.push("@@ -"+e.oldStart+","+e.oldLines+" +"+e.newStart+","+e.newLines+" @@");for(const s of e.lines)t.push(s)}return t.join(`
`)+`
`}function jn(i,t,n,e,s,r,a){if(typeof a=="function"&&(a={callback:a}),a?.callback){const{callback:l}=a;gt(i,t,n,e,s,r,Object.assign(Object.assign({},a),{callback:o=>{l(o?ze(o):void 0)}}))}else{const l=gt(i,t,n,e,s,r,a);return l?ze(l):void 0}}function Wn(i){const t=i.endsWith(`
`),n=i.split(`
`).map(e=>e+`
`);return t?n.pop():n.push(n.pop().slice(0,-1)),n}const St="html-diff-viewmode";function qn(){try{return localStorage.getItem(St)==="side-by-side"?"side-by-side":"line-by-line"}catch(i){return console.warn("[diff.logic] localStorage read failed:",i),"line-by-line"}}function Un(i){try{localStorage.setItem(St,i)}catch(t){console.warn("[diff.logic] localStorage write failed:",t)}}function bt(i,t,n){try{const e=(i??"").trim(),s=(t??"").trim();if(!e&&!s)return'<div class="text-center text-muted p-5 fs-4">Paste HTML to see the difference</div>';let r;if(e===s)return'<div class="text-center text-success p-5 fs-4">No changes detected</div>';r=jn("Original","Modified",e,s,"","",{context:3});const a=An(r),o=Fn(a,{outputFormat:n==="side-by-side"?"side-by-side":"line-by-line",drawFileList:!1,matching:"lines",highlight:!0});return console.log("[diff.logic] Success – diff generated",{oldLen:e.length,newLen:s.length}),o}catch(e){return console.error("[diff.logic] computeDiff crashed:",e),`
      <div class="alert alert-danger m-4">
        <h5>Diff Failed</h5>
        <p><strong>Error:</strong> ${e instanceof Error?e.message:"Unknown"}</p>
        <p>Try simpler or smaller HTML.</p>
      </div>
    `}}function Gn(i,t){return[t,i]}async function Vn(i){try{return await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([i],{type:"text/html"}),"text/plain":new Blob([i.replace(/<[^>]*>/g,"")],{type:"text/plain"})})]),!0}catch(t){return console.error("[diff.logic] Copy failed:",t),!1}}var Xn=$e('<div class="card-body p-0"><!></div>'),Jn=$e('<div class="text-center py-5 text-muted opacity-50"><i class="bi bi-layers fs-1"></i> <p class="mt-2">Waiting for input...</p></div>'),Yn=$e(`<div><div class="row g-4 mb-5 justify-content-center"><div class="col-lg-8 text-center"><h1 class="display-4 fw-bold mb-3">Compare HTML Code</h1> <p class="lead text-muted">Instant, safe, client-side difference highlighter. <span class="badge bg-warning text-dark rounded-pill">v2.0</span></p></div></div> <div class="row g-4"><div class="col-lg-6"><div class="glass glass-card h-100"><label for="original" class="form-label fw-bold ms-2 mb-3"><i class="bi bi-file-earmark-code me-2"></i>Original HTML</label> <textarea id="original" class="form-control" placeholder="Paste original HTML here..."></textarea></div></div> <div class="col-lg-6"><div class="glass glass-card h-100"><label for="modified" class="form-label fw-bold ms-2 mb-3"><i class="bi bi-file-earmark-plus me-2"></i>Modified HTML</label> <textarea id="modified" class="form-control" placeholder="Paste modified HTML here..."></textarea></div></div> <div class="col-12 text-center py-3"><div class="d-flex justify-content-center gap-2 flex-wrap"><div class="btn-group shadow-sm" style="border-radius: 50px;"><button type="button" class="btn btn-outline-secondary"><i class="bi bi-arrow-left-right me-1"></i> Swap</button> <button type="button" class="btn btn-outline-secondary"><i class="bi bi-trash me-1"></i> Clear</button> <button type="button" class="btn btn-primary"><i class="bi bi-clipboard me-1"></i> Copy Result</button></div> <div class="btn-group shadow-sm ms-md-3" style="border-radius: 50px;"><button type="button">Inline</button> <button type="button">Side-by-Side</button></div></div></div> <div class="col-12"><div class="glass glass-card p-3 shadow-lg"><!></div></div></div> <hr class="my-5" style="border-color: var(--glass-border); opacity: 0.3;"/> <div><section id="about" class="py-5 scroll-margin-offset svelte-1uha8ag"><div class="glass glass-card p-5"><h2 class="fw-bold mb-4"><i class="bi bi-info-circle-fill me-3 text-warning"></i>About AxelBase HTML Difference Highlighter</h2> <p class="lead text-muted mb-4">AxelBase is a privacy-first, client-side HTML comparison tool engineered for developers, designers, content teams, and QA engineers who need accurate, instant, and secure visual diffs — without ever sending code to a server.</p> <p>Unlike traditional text-based diff tools that treat HTML as plain strings, AxelBase understands the document as structured data. It recognizes tags, attributes, nesting, and movement of elements, delivering meaningful, human-readable differences even when working with malformed fragments, dynamically generated templates, or massive marketing pages.</p> <p>Built with performance and robustness in mind, the tool processes documents of 15,000+ characters in under a second using optimized tokenization and virtual rendering. Whether you're reviewing a single component change or an entire page redesign, AxelBase eliminates noise from whitespace, formatting differences, or line-ending variations.</p> <p>Every comparison happens entirely in your browser. No data is uploaded, logged, or stored. You can disconnect from the internet completely and the tool continues working flawlessly — making it safe for proprietary templates, pre-release designs, internal admin panels, or any sensitive markup.</p> <p>The output is not just visual. When you click “Copy Result,” you receive clean, semantic HTML using standard <ins>ins</ins> and <ins>del</ins> elements — ready to paste into GitHub comments, documentation, emails, or CMS fields with perfect formatting preserved across platforms.</p> <p>AxelBase supports two powerful viewing modes: <strong>Inline</strong> (line-by-line) for seeing the final document with changes highlighted in context, and <strong>Side-by-Side</strong> for precise structural analysis when elements are added, removed, or moved. Your preference is automatically saved.</p> <p>Open-source, dependency-light, and deployed as a fully static site, AxelBase embodies the philosophy that great tools should be fast, transparent, and respect user privacy by design. It’s not just a diff tool — it’s a trusted companion for anyone who works with HTML.</p></div></section> <section id="how-to-use" class="py-5 scroll-margin-offset svelte-1uha8ag"><h2 class="fw-bold mb-5 text-center">How to Use AxelBase</h2> <div class="row g-5"><div class="col-lg-4"><div class="glass glass-card h-100 text-center p-4 hover-lift svelte-1uha8ag"><div class="display-3 fw-bold text-warning mb-3">1</div> <h4 class="fw-bold mb-3">Paste Your HTML</h4> <p class="text-muted">Copy the original version into the left textarea and the modified version into the right. You can paste full documents, fragments, or even malformed HTML — the tool gracefully handles broken tags, missing closers, and partial content without crashing.</p></div></div> <div class="col-lg-4"><div class="glass glass-card h-100 text-center p-4 hover-lift svelte-1uha8ag"><div class="display-3 fw-bold text-warning mb-3">2</div> <h4 class="fw-bold mb-3">Choose Your View</h4> <p class="text-muted">Use <strong>Inline</strong> mode to see changes directly in the final document flow — perfect for content reviews. Switch to <strong>Side-by-Side</strong> when you need to understand structural changes, moved blocks, or attribute modifications with absolute clarity.</p></div></div> <div class="col-lg-4"><div class="glass glass-card h-100 text-center p-4 hover-lift svelte-1uha8ag"><div class="display-3 fw-bold text-warning mb-3">3</div> <h4 class="fw-bold mb-3">Export & Share</h4> <p class="text-muted">Click “Copy Result” to get clean, semantic HTML with proper <ins>ins</ins> and <ins>del</ins> tags. Paste it anywhere — GitHub PRs, Notion, Confluence, Outlook — and the highlighting survives perfectly. Use “Swap” to reverse inputs or “Clear” to start fresh.</p></div></div></div> <div class="mt-5 text-center"><p class="lead text-muted">That’s it. No accounts, no uploads, no waiting. Instant, accurate, private HTML comparison — exactly when you need it.</p></div></section> <section id="faq" class="py-5 scroll-margin-offset svelte-1uha8ag"><h2 class="fw-bold mb-5 text-center">Frequently Asked Questions</h2> <div class="accordion accordion-flush" id="faqAccordion"><div class="glass glass-card mb-3 overflow-hidden"><div class="accordion-item bg-transparent border-0"><h2 class="accordion-header"><button class="accordion-button collapsed fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">Is my HTML ever sent to a server?</button></h2> <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body text-muted">Never. All processing happens 100% in your browser using JavaScript. Open DevTools → Network tab → you’ll see zero requests after page load. Try it offline — everything still works perfectly.</div></div></div></div> <div class="glass glass-card mb-3 overflow-hidden"><div class="accordion-item bg-transparent border-0"><h2 class="accordion-header"><button class="accordion-button collapsed fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">Why is it more accurate than GitHub or other diff tools?</button></h2> <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body text-muted">Most tools compare text line-by-line. AxelBase understands HTML structure — it detects moved elements, attribute changes, and ignores irrelevant formatting differences. The result: dramatically less noise and true insight into what actually changed.</div></div></div></div> <div class="glass glass-card mb-3 overflow-hidden"><div class="accordion-item bg-transparent border-0"><h2 class="accordion-header"><button class="accordion-button collapsed fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">Can I use it with sensitive or proprietary code?</button></h2> <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body text-muted">Absolutely. Since nothing leaves your device, AxelBase is approved for internal tools, client work, financial interfaces, and pre-release designs. Many teams use it where traditional online diff tools are forbidden.</div></div></div></div> <div class="glass glass-card mb-3 overflow-hidden"><div class="accordion-item bg-transparent border-0"><h2 class="accordion-header"><button class="accordion-button collapsed fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">Is it really free forever?</button></h2> <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body text-muted">Yes. Completely free, open-source (MIT), no limits, no accounts. If you love it, consider supporting via the “Buy me a coffee” button — but it’s never required.</div></div></div></div> <div class="glass glass-card mb-3 overflow-hidden"><div class="accordion-item bg-transparent border-0"><h2 class="accordion-header"><button class="accordion-button collapsed fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">Does it work on mobile?</button></h2> <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body text-muted">Yes. Fully responsive design with stacked layout on small screens and horizontally scrollable side-by-side view. Perfect for quick reviews on the go.</div></div></div></div></div></section></div></div>`);function li(i,t){Wt(t,!1);let n=ue(""),e=ue(""),s=ue("line-by-line"),r=ue(""),a=ue(!1);Mt(()=>{G(a,!0);try{G(s,qn()),l()}catch(p){console.error("[+page] onMount error:",p)}});function l(){try{G(r,bt(O(n),O(e),O(s)))}catch{}}function o(){try{(p=>{var m=Xt(p,2);G(n,m[0]),G(e,m[1])})(Gn(O(n),O(e)))}catch{}}function d(){G(n,""),G(e,"")}async function h(){const p=await Vn(O(r));alert(p?"Copied to clipboard!":"Copy failed")}function b(p){G(s,p),Un(p)}qt(()=>(O(a),O(n),O(e),O(s)),()=>{if(O(a))try{G(r,bt(O(n),O(e),O(s)))}catch(p){console.error("Diff failed:",p),G(r,'<div class="alert alert-danger">Diff crashed</div>')}}),Ut(),Yt();var E=_t(),c=Gt(E);{var f=p=>{var m=Yn(),T=q(m),C=q(T);U(T);var v=J(T,2),N=q(v),L=q(N),I=J(q(L),2);Qe(I),U(L),U(N);var F=J(N,2),u=q(F),g=J(q(u),2);Qe(g),U(u),U(F);var y=J(F,2),S=q(y),k=q(S),z=q(k),R=J(z,2),M=J(R,2);U(k);var V=J(k,2),X=q(V),$=J(X,2);U(V),U(S),U(y);var D=J(y,2),Q=q(D),w=q(Q);{var _=B=>{var te=Xn(),ne=q(te);Qt(ne,()=>O(r)),U(te),ve(B,te)},x=B=>{var te=Jn();ve(B,te)};Ze(w,B=>{O(n)||O(e)?B(_):B(x,!1)})}U(Q),U(D),U(v);var W=J(v,4);U(m),vt(()=>{Ke(X,1,`btn ${O(s)==="line-by-line"?"btn-primary":"btn-outline-primary"}`),Ke($,1,`btn ${O(s)==="side-by-side"?"btn-primary":"btn-outline-primary"}`)}),we(1,C,()=>Ie,()=>({y:-20,duration:800})),et(I,()=>O(n),B=>G(n,B)),ae("input",I,l),et(g,()=>O(e),B=>G(e,B)),ae("input",g,l),ae("click",z,o),ae("click",R,d),ae("click",M,h),ae("click",X,()=>b("line-by-line")),ae("click",$,()=>b("side-by-side")),we(1,v,()=>Ie,()=>({y:30,duration:800,delay:200})),we(1,W,()=>Ie,()=>({y:50,duration:800,delay:400})),we(1,m,()=>Jt,()=>({duration:500})),ve(p,m)};Ze(c,p=>{O(a)&&p(f)})}ve(i,E),Vt()}export{li as component,ai as universal};
